<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paweł RNG</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: #1e1e1e;
    color: #fff;
    margin: 0;
    padding: 0;
  }

  h1 {
    margin-top: 50px;
    font-size: 2em;
  }

  #rollButton {
    padding: 20px 40px;
    font-size: 1.5em;
    margin: 20px;
    cursor: pointer;
    transition: transform 0.2s;
    border: none;
    border-radius: 10px;
    background-color: #4CAF50;
    color: white;
  }

  #rollButton:active {
    transform: scale(0.9);
  }

  #resultImage {
    width: 300px;
    height: 300px;
    margin: 20px;
    object-fit: cover;
    border-radius: 15px;
  }

  #resultText {
    font-size: 1.5em;
    margin-top: 10px;
  }

  #chanceText, #rarityText {
    margin-top: 5px;
    font-size: 1.2em;
  }

  #muteButton {
    padding: 10px 20px;
    margin: 10px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background-color: #f44336;
    color: white;
  }
</style>
</head>
<body>

<h1>Paweł RNG</h1>

<button id="rollButton">Roll</button>
<br>
<img id="resultImage" src="photo.png" alt="Result">
<div id="resultText">Kliknij Roll</div>
<div id="chanceText"></div>
<div id="rarityText"></div>

<button id="muteButton">Mute/Unmute</button>

<audio id="backgroundMusic" loop autoplay>
  <source src="music.mp3" type="audio/mpeg">
  Twoja przeglądarka nie wspiera odtwarzania audio.
</audio>

<script>
const images = [
  {src: 'photo.png', text: 'gejmingowy paweł', chance: 1/2, rarity: 'Common'},
  {src: 'photo2.png', text: 'paweł prezydent', chance: 1/4, rarity: 'Uncommon'},
  {src: 'photo3.png', text: 'pawel w zoltym hoodie', chance: 1/8, rarity: 'Rare'},
  {src: 'photo4.png', text: 'funni paweł', chance: 1/16, rarity: 'Epic'},
  {src: 'photo5.png', text: 'paweł ok', chance: 1/32, rarity: 'Mythic'},
  {src: 'photo6.png', text: 'świąteczny paweł', chance: 1/64, rarity: 'Legendary'},
  {src: 'photo7.png', text: 'paweł dostaje backshoty', chance: 1/128, rarity: 'Ultra Legendary'},
  {src: 'photo8.png', text: 'paweł komunista', chance: 1/256, rarity: 'Ultra Legendary'}
];

const musicFiles = ['music.mp3', 'music2.mp3', 'music3.mp3', 'music4.mp3', 'music5.mp3'];
const bgMusic = document.getElementById('backgroundMusic');

// Włącz/wyłącz dźwięk
document.getElementById('muteButton').addEventListener('click', () => {
  bgMusic.muted = !bgMusic.muted;
});

// Funkcja RNG z proporcjonalną szansą
function rollRNG() {
  // Tworzymy pulę do losowania
  const pool = [];
  images.forEach(img => {
    const entries = Math.floor(img.chance * 256); // 1/2 -> 128
    for (let i = 0; i < entries; i++) pool.push(img);
  });

  // Losowy wybór
  const selected = pool[Math.floor(Math.random() * pool.length)];

  document.getElementById('resultImage').src = selected.src;
  document.getElementById('resultText').textContent = selected.text;
  document.getElementById('chanceText').textContent = `Szansa: 1/${1/selected.chance}`;
  document.getElementById('rarityText').textContent = `Rzadkość: ${selected.rarity}`;
}

// Przycisk Roll
document.getElementById('rollButton').addEventListener('click', () => {
  const btn = document.getElementById('rollButton');
  btn.style.transform = 'scale(0.8)';
  setTimeout(() => btn.style.transform = 'scale(1)', 250);
  rollRNG();
});

// Losowa muzyka na start
function playRandomMusic() {
  const randomMusic = musicFiles[Math.floor(Math.random() * musicFiles.length)];
  bgMusic.src = randomMusic;
  bgMusic.play();
}

playRandomMusic();
</script>

</body>
</html>
